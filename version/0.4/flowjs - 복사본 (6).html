
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>FCKeditor - Sample</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="robots" content="noindex, nofollow" />
	<script type="text/javascript" src="logger.js"></script>
	
	<script type="text/javascript" src="htmlparser.js"></script>
	<script type="text/javascript" src="jsparser.js"></script>

</head>
<body topmargin="0">

<script type="text/javascript">


// ========================================================================================================
                var htmlscript = '';
                var filename = '';
                var html = '';

                // js or html
                function filetype(fname){
                   var idx = fname.lastIndexOf('.')+1;
                   return fname.substr(idx, fname.length - idx);
                  
                }

                function recivefname(fname){
                    alert(fname[0]);
                    return fname[0];
                }

                function recivefcontent(fcontent){
                   var tmp = fcontent;

                   if ( fcontent == 'EOF' ) {
                      html = '';
                   } else {
                      html = html + tmp;
                   }

                   return fcontent;
                }
                
                // fcontent 는 한 하인씩 들어와서 구성된다.
                function rv_content(fcontent) {
                   var tmp = fcontent;

                   if ( fcontent == 'EOF' ) {
                      return sd_ScriptModules();
                      html = '';
                   } else {
                      html = html + tmp;
                   }
                   
                   return tmp;
                }

                // recive target html
                function rv_file(val){
                   filename = val;
                   return filename;
                }
                
                function rv_log(){
                   return llog;
                }
                
                function rv_logdelete(){
                   llog = '';
                }
                
                function sd_ScriptModules(){
                   if (filename === ''){
                      alert('no target html!');
                      return [];
                   }

                   var stype = filetype(filename);
                   
                   if( stype === 'html') {
                       var htmlparser = new Parhtml(html, filename);
                       htmlparser.parserunit();
                       var tokens = htmlparser.tostringtokens();
                       llog = llog + tokens;
                       //alert(htmlparser.getTracefilelst());
                       return htmlparser.getTracefilelst();
                   } else {
                       return [];
                   }
                }
                
                // script src list
                function step_s(){
                   if (filename === ''){
                      alert('no target html!');
                      return [];
                   }
                   
                   var stype = filetype(filename);
                   if ( stype === 'js'){
                       // jsparser
                   } else if ( stype === 'html') {
                       // jsparser js in <script>
                       return htmlparser.getTracefilelst();
                   } else {
                       alert('supported file type is html or js!');
                       return [];
                   }
                }
                
                function a(){
                  alert('a!');
                }


                function testa(){
                    alert('testa sucss!!' );

                }

                function arrtest(){
                   var arr = [];
                   arr.push('oops');
                   arr.push('pussy');
                   return arr;
                }
                

 </script>

</body>
</html>
